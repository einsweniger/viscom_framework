{
  "Shader": {
    "ver": "0.1",
    "info": {
      "id": "4ltSDl",
      "date": "1482185976",
      "viewed": 209,
      "name": "Voronoi Diagram (MK)",
      "username": "Tryton",
      "description": "Simple Voronoi Diagram in different metrics.",
      "likes": 1,
      "published": 3,
      "flags": 0,
      "tags": [
        "voronoi",
        "diagram",
        "voronoidiagram"
      ],
      "hasliked": 0
    },
    "renderpass": [
      {
        "inputs": [],
        "outputs": [
          {
            "id": 37,
            "channel": 0
          }
        ],
        "code": "float test(vec2 s,vec2 e){\n \treturn mix(abs(reflect(s,e).x),abs(reflect(e,s).x),0.5);\n}\n    \nfloat triangular(vec2 s,vec2 e){\n \treturn max(abs((e-s).x)*0.866025+(e-s).y*0.5,-(e-s).y); \n}\n\nfloat supremum(vec2 s,vec2 e){\n \treturn max(abs((e-s).x), abs((e-s).y) );   \n}\n\nfloat manhattan(vec2 s,vec2 e){\n    return abs((e-s).x)+abs((e-s).y);\n}\n\nfloat euclid(vec2 s,vec2 e){\n    return sqrt(dot(s-e,s-e));\n}\n\nfloat dist(vec2 s,vec2 e){\n \treturn euclid(s,e);  \n}\n\nvec3 color(vec2 p){\n    vec2 seeds[16];\n    vec3 colors[16];\n    \n    for(int i=0;i<16;i++){\n        float il = float(i+1);\n     \tvec2 pos = vec2(mod(il*16.0*log(il),1.0),mod(il*log(16.0*il)*exp(1.0/16.0),1.0));\n        float r = 1.0/(16.0+1.0);\n        \n        seeds[i] = vec2(pos.x+ r*cos(iTime+il),pos.y+r*sin(iTime+il));\n        colors[i] = vec3(mod(il*16.0*log(il),1.0),\n                         mod(il*log(16.0*il)*exp(1.0/16.0),1.0),\n                         mod(il*log(1.0/16.0)*exp(1.0/16.0*il),1.0));\n        \n    }\n    \n    float distb = dist(seeds[0], p);\n    vec3 color = colors[0];\n    for (int i = 0; i < 16; i++) {\n        float current = dist(seeds[i], p);\n        if (current < distb) {\n            color = colors[i];\n            distb = current;\n        }\n    }\n    \n    return color*(1.0-distb*2.5);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 p = fragCoord.xy / iResolution.xy;\n\tfragColor = vec4(color(p),1.0);\n}",
        "name": "Image",
        "description": "",
        "type": "image"
      }
    ]
  }
}