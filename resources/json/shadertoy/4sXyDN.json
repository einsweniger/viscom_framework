{
  "Shader": {
    "ver": "0.1",
    "info": {
      "id": "4sXyDN",
      "date": "1488161272",
      "viewed": 220,
      "name": "Moon thing",
      "username": "CaptCM74",
      "description": "AKA Cave story moon ripoff.",
      "likes": 1,
      "published": 3,
      "flags": 0,
      "tags": [
        "clouds"
      ],
      "hasliked": 0
    },
    "renderpass": [
      {
        "inputs": [],
        "outputs": [
          {
            "id": 37,
            "channel": 0
          }
        ],
        "code": "#define clouds 32.\n#define pixel_size vec2(1. / iResolution.xy)\n#define time iTime\n\nvec4 circle(vec2 uv,vec2 pos,float radius)\n{\n    vec4 fcol = vec4(0.);\n    if (distance(vec2(uv.x,uv.y),pos) < radius)\n    {\n        fcol = vec4(1.);\n    }\n    return fcol;\n}\n\nvec4 moon(vec2 uv,vec2 pos)\n{\n    vec4 fcol = vec4(0.);\n    vec4 current;\n    \n    fcol = circle(uv,pos,0.1);\n    \n    return fcol;\n}\n\nvec4 cloud(vec2 uv,float height)\n{\n    vec4 fcol = vec4(0.);\n    vec4 current;\n    \n    \n    if (uv.y < height)\n    {\n        fcol = vec4(1.);\n    }\n    for (float i=0.;i<clouds;i+= 1.0)\n    {\n        current = circle(uv,vec2(mod(time * 0.5 + i*sin(i+cos(i*35.)*64.)*10.,3.5)-0.5,sin(i)*0.15+height),sin(i+cos(i*30.)*10.)*0.2+0.2);\n    \tfcol = mix(fcol,current,current.a);\n    }\n    \n    \n    return fcol;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 c64_a = vec3(102./255.,105./255.,196./255.);\n    vec3 c64_b = vec3(64./255.,49./255.,141./255.);\n    vec3 moon_color = vec3(255./255.,247./255.,150./255.);\n    vec3 sky_color = vec3(1./255.,12./255.,39./255.);\n    \n    \n    vec4 fcol = vec4(1.);\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    uv /= pixel_size*360.;\n    \n    fcol.xyz = sky_color;\n    /*\n\t\tClouds\n\t*/\n    vec4 current = cloud(uv,0.1);\n    current.xyz *= c64_b;\n    \n    fcol = mix(fcol,current,current.a);\n    /*\n\t\tMoon\n\t*/\n    current = moon(uv,vec2(1.4,0.8));\n    current.xyz *= moon_color;\n    \n    fcol = mix(fcol,current,current.a);\n    \n\tfragColor = fcol;\n}",
        "name": "Image",
        "description": "",
        "type": "image"
      }
    ]
  }
}