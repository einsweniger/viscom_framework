{
  "Shader": {
    "ver": "0.1",
    "info": {
      "id": "llBcDw",
      "date": "1508777622",
      "viewed": 226,
      "name": "Game of life_",
      "username": "Txoka",
      "description": "simple game of life (use mouse for drawing)",
      "likes": 1,
      "published": 3,
      "flags": 32,
      "tags": [
        "conway",
        "gameoflife"
      ],
      "hasliked": 0
    },
    "renderpass": [
      {
        "inputs": [
          {
            "id": 258,
            "src": "/media/previz/buffer01.png",
            "ctype": "buffer",
            "channel": 0,
            "sampler": {
              "filter": "nearest",
              "wrap": "repeat",
              "vflip": "true",
              "srgb": "false",
              "internal": "byte"
            },
            "published": 1
          }
        ],
        "outputs": [
          {
            "id": 37,
            "channel": 0
          }
        ],
        "code": "//#define COLOR\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n\tvec2 uv = fragCoord/iResolution.xy;\n    #ifdef COLOR\n    fragColor=texture(iChannel0,uv).r*vec4(uv,0.5+0.5*sin(iTime),1.0);\n    #else\n    fragColor=texture(iChannel0,uv);\n    #endif\n}",
        "name": "Image",
        "description": "",
        "type": "image"
      },
      {
        "inputs": [
          {
            "id": 257,
            "src": "/media/previz/buffer00.png",
            "ctype": "buffer",
            "channel": 0,
            "sampler": {
              "filter": "linear",
              "wrap": "clamp",
              "vflip": "true",
              "srgb": "false",
              "internal": "byte"
            },
            "published": 1
          }
        ],
        "outputs": [
          {
            "id": 257,
            "channel": 0
          }
        ],
        "code": "#define survive n>1 && n<4\n#define born n==3\n#define zoom 4.\n#define noise\n\n#define t(uv)  texture( iChannel0, (uv)/iResolution.xy ).r\n\nint i(vec2 uv) {\n    float s=0.;\n    for (int i=0; i<9; i++)s+=t(uv+vec2(i%3-1,i/3-1));\n\treturn int(s-t(uv));\n}\n\nvoid mainImage( out vec4 o, in vec2 uv){\n    o = vec4(0.,zoom,0.,1.);\n    if(distance(uv,iMouse.xy/zoom)<3.&&iMouse.z>1.)o = vec4(1.,zoom,0.,1.);\n    int n = i(uv);\n    if(t(uv)==1.) {\n    \tif(survive)o = vec4(1.,zoom,0.,1.);\n    } else if(born) {\n    \to = vec4(1.,zoom,0.,1.);\n    }\n}",
        "name": "Buf A",
        "description": "",
        "type": "buffer"
      },
      {
        "inputs": [
          {
            "id": 257,
            "src": "/media/previz/buffer00.png",
            "ctype": "buffer",
            "channel": 0,
            "sampler": {
              "filter": "nearest",
              "wrap": "repeat",
              "vflip": "true",
              "srgb": "false",
              "internal": "byte"
            },
            "published": 1
          },
          {
            "id": 258,
            "src": "/media/previz/buffer01.png",
            "ctype": "buffer",
            "channel": 1,
            "sampler": {
              "filter": "nearest",
              "wrap": "repeat",
              "vflip": "true",
              "srgb": "false",
              "internal": "byte"
            },
            "published": 1
          }
        ],
        "outputs": [
          {
            "id": 258,
            "channel": 0
          }
        ],
        "code": "#define t(x)  texture(iChannel0,x).r\n#define Smooth\n#define SFactor 5.\n#define trail 0.8\nfloat i(vec2 coord) {\n\tvec2 R = iResolution.xy;\n\n\tvec2 x = vec2(coord.x-1.,coord.y)/R;\n\tvec2 x1 = vec2(coord.x+1.,coord.y)/R;\n\tvec2 y = vec2(coord.x,coord.y-1.)/R;\n\tvec2 y1 = vec2(coord.x,coord.y+1.)/R;\n\n\treturn t(x)+t(x1)+t(y)+t(y1);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    float zoom = texture(iChannel0,vec2(0.)).g;\n    vec2 co=fragCoord/zoom;\n\tvec2 uv = co/ iResolution.xy;\n    fragColor=vec4(texture(iChannel0,uv).rrr,1.);\n    #ifdef Smooth\n    if(fragColor.r!=1.)fragColor=vec4(i(co)/SFactor);\n    #endif\n    fragColor=mix(fragColor,texture(iChannel1,fragCoord/iResolution.xy),trail);\n}",
        "name": "Buf B",
        "description": "",
        "type": "buffer"
      }
    ]
  }
}