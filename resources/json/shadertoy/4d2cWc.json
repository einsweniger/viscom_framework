{
  "Shader": {
    "ver": "0.1",
    "info": {
      "id": "4d2cWc",
      "date": "1494159708",
      "viewed": 271,
      "name": "fake menger sponge",
      "username": "abje",
      "description": "it's just a sierpinski carpet wrapped around a tunnel.\ni may have modified it a bit.",
      "likes": 2,
      "published": 3,
      "flags": 0,
      "tags": [
        "fake",
        "sierpinskicarpet"
      ],
      "hasliked": 0
    },
    "renderpass": [
      {
        "inputs": [],
        "outputs": [
          {
            "id": 37,
            "channel": 0
          }
        ],
        "code": "\nfloat smin( float a, float b, float k )\n{\n    float h = clamp( 0.5+0.5*(b-a)/k, 0.0, 1.0 );\n    return mix( b, a, h ) - k*h*(1.0-h);\n}\n\nfloat smin2(float a, float b, float k) {\n    return (smin(1.0,a/b,k)*b+smin(1.0,b/a,k)*a)*0.5;\n}\n\nfloat pattern(vec2 p) {\n    p = mod(p+1.0,2.0)-1.0;\n    for(float i = 1.0; i > 0.02; i/=3.0) {\n        \n        if(max(abs(p.x),abs(p.y)) < 1.0/3.0)\n            return 1.0;\n            //return clamp(200.0*i*(1.0/3.0-max(abs(p.x),abs(p.y))),0.0,1.0);\n        p= mod(p*3.0+1.0,2.0)-1.0;\n        \n    }\n    return 0.0;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (fragCoord.xy * 2.0 - iResolution.xy) / iResolution.y;\n    \n    vec3 dir = vec3(uv, 1.0);\n    vec3 pos = vec3(0.0,0.0,iTime);\n    vec2 dists = 1.0/abs(dir.xy);\n    float len = smin2(dists.x,dists.y,(iTime));\n    pos += len*dir;\n    \n    \n\tfragColor = vec4(pattern(vec2((abs(pos.x)+abs(pos.y)-1.0)/3.1,pos.z/3.1))/len/len*10.0);\n}",
        "name": "Image",
        "description": "",
        "type": "image"
      }
    ]
  }
}